module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(17);e.exports=r.fromExpress(n(2))},function(e,t){e.exports=require("express")},function(e,t,n){var r=n(1),o=r(),i=n(4),s=n(6),a=n(3);o.use(function(e,t,n){a({scopes:e.webtaskContext.data.AUTH0_SCOPES,clientId:e.webtaskContext.data.AUTH0_CLIENT_ID,rootTenantAuthority:"https://"+e.webtaskContext.data.AUTH0_DOMAIN})(e,t,n)}),o.get("/",function(e,t){t.header("Content-Type","text/html"),t.status(200).send(i({domain:"https://"+e.webtaskContext.data.AUTH0_DOMAIN}))}),o.get("/meta",function(e,t){t.status(200).send(s)}),e.exports=o},function(e,t,n){(function(t){function r(e){return e&&"[object Function]"==v.call(e)}function o(e){return function(t,n,r){h.get(e+"/userinfo").set("Authorization","Bearer "+t.body.access_token).end(function(e,o){return e?void n.redirect(n.locals.baseUrl):(t.userInfo=o.body,void r())})}}function i(e,t){return function(n,o,i){var s=e;r(e)&&(s=e(n)),n.apiToken=f.sign(n.userInfo,s,{algorithm:"HS256",issuer:o.locals.baseUrl,expiresIn:t}),delete n.userinfo,i()}}var s=n(1),a=n(13),c=s.Router(),l=n(11),p=n(16),u=n(8),d=n(9),f=n(14),h=n(15),m=864e5,v={}.toString;e.exports=function(e){var r=function(e,t,n){n()},s=[r];return e=e||{},e.clientName=e.clientName||"Auth0 Extension",e.clientId=e.clientId,e.exp=e.exp||m,e.credentialsRequired="undefined"==typeof e.credentialsRequired?!1:e.credentialsRequired,e.scopes=e.scopes+" openid profile",e.responseType=e.responseType||"token",e.tokenExpiresIn=e.tokenExpiresIn||"10h",e.rootTenantAuthority=e.rootTenantAuthority||"https://auth0.auth0.com",e.apiToken&&!e.apiToken.secret&&(console.log('You are using a "development secret" for API token generation. Please setup your secret on "apiToken.secret".'),e.apiToken.secret=n(10).randomBytes(32).toString("hex")),e.apiToken&&e.apiToken.secret&&(s=[o(e.rootTenantAuthority),e.apiToken.payload||r,i(e.apiToken.secret,e.tokenExpiresIn)]),c.use(function(n,r,o){var i="https",s=p.parse(n.originalUrl).pathname.replace(n.path,"");"development"===(t.env.NODE_ENV||"development")&&(i=n.protocol,e.clientId=e.clientId||"N3PAwyqXomhNu6IWivtsa3drBfFjmWJL"),r.locals.baseUrl=p.format({protocol:i,host:n.get("host"),pathname:s}),o()}),c.use(d.urlencoded({extended:!1})),c.use(l({secret:u(),algorithms:["RS256"],credentialsRequired:e.credentialsRequired}).unless({path:["/login","/callback"]})),c.get("/login",function(t,n){var r=[e.rootTenantAuthority+"/i/oauth2/authorize","?client_id="+(e.clientId||n.locals.baseUrl),"&response_type="+e.responseType,"&response_mode=form_post","&scope="+encodeURIComponent(e.scopes),"&expiration="+e.exp,"&redirect_uri="+n.locals.baseUrl+"/callback"].join("");n.redirect(r)}),c.get("/logout",function(t,n){var r=["html","  head","    script.","      sessionStorage.removeItem('token')","      sessionStorage.removeItem('apiToken')","      window.location.href = '"+e.rootTenantAuthority+"/v2/logout?returnTo=#{baseUrl}';","  body"].join("\n"),o=a.compile(r)({baseUrl:n.locals.baseUrl});n.header("Content-Type","text/html"),n.status(200).send(o)}),c.post("/callback",s,function(e,t){var n=["html","  head","    script.","      sessionStorage.setItem('token', '"+e.body.access_token+"');",1===s.length?"":"      sessionStorage.setItem('apiToken', '"+e.apiToken+"');","      window.location.href = '#{baseUrl}';","  body"].join("\n"),r=a.compile(n)({baseUrl:t.locals.baseUrl});t.header("Content-Type","text/html"),t.status(200).send(r)}),c.get("/.well-known/oauth2-client-configuration",function(t,n){n.header("Content-Type","application/json"),n.status(200).send({redirect_uris:[n.locals.baseUrl+"/callback"],client_name:e.clientName})}),c}}).call(t,n(7))},function(e,t,n){var r=n(5);e.exports=function(e){var t,n=[],o=e||{};return function(e,o,i){n.push('<!DOCTYPE html><html><head><title>Sample Extension</title><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description"'+r.attr("content",""+o,!0,!0)+'><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/2.0.1/lib/logos/img/favicon.png"><link rel="apple-touch-icon" href="apple-touch-icon.png"><link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.973/css/index.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/latest/index.css"><script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script type="text/javascript" src="https://fb.me/react-0.14.0.min.js"></script><script type="text/javascript" src="https://fb.me/react-dom-0.14.0.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script><script type="text/javascript" src="https://cdn.auth0.com/js/jwt-decode-1.4.0.min.js"></script><script type="text/javascript" src="https://cdn.auth0.com/js/navbar-1.0.4.min.js"></script><script type="text/javascript">if (!sessionStorage.getItem("token")) {\n  window.location.href = \''+r.escape(null==(t=e)?"":t)+'/login\';\n}\n</script></head><body class="a0-extension"><header class="dashboard-header"><nav role="navigation" class="navbar navbar-default"><div class="container"><div class="navbar-header"><h1 class="navbar-brand"><a href="http://manage.auth0.com/"><span>Auth0</span></a></h1></div><div id="navbar-collapse" class="collapse navbar-collapse"></div><script type="text/babel">ReactDOM.render(\n  <Navbar baseUrl="'+r.escape(null==(t=e)?"":t)+'" domain="'+r.escape(null==(t=i)?"":t)+'"/>,\n  document.getElementById(\'navbar-collapse\')\n);\n</script></div></nav></header><div class="container"><div class="row"><section class="content-page current"><div class="col-xs-12"><div id="my-application"><h1>Hello world!</h1></div></div></section></div></div></body></html>')}.call(this,"baseUrl"in o?o.baseUrl:"undefined"!=typeof baseUrl?baseUrl:void 0,"description"in o?o.description:"undefined"!=typeof description?description:void 0,"domain"in o?o.domain:"undefined"!=typeof domain?domain:void 0),n.join("")}},function(e,t,n){"use strict";function r(e){return null!=e&&""!==e}function o(e){return(Array.isArray(e)?e.map(o):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(r).join(" ")}t.merge=function i(e,t){if(1===arguments.length){for(var n=e[0],o=1;o<e.length;o++)n=i(n,e[o]);return n}var s=e["class"],a=t["class"];(s||a)&&(s=s||[],a=a||[],Array.isArray(s)||(s=[s]),Array.isArray(a)||(a=[a]),e["class"]=s.concat(a).filter(r));for(var c in t)"class"!=c&&(e[c]=t[c]);return e},t.joinClasses=o,t.cls=function(e,n){for(var r=[],i=0;i<e.length;i++)n&&n[i]?r.push(t.escape(o([e[i]]))):r.push(o(e[i]));var s=o(r);return s.length?' class="'+s+'"':""},t.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},t.attr=function(e,n,r,o){return"style"===e&&(n=t.style(n)),"boolean"==typeof n||null==n?n?" "+(o?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof n?(-1!==JSON.stringify(n).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),n&&"function"==typeof n.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"):r?(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t.escape(n)+'"'):(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+n+'"')},t.attrs=function(e,n){var r=[],i=Object.keys(e);if(i.length)for(var s=0;s<i.length;++s){var a=i[s],c=e[a];"class"==a?(c=o(c))&&r.push(" "+a+'="'+c+'"'):r.push(t.attr(a,c,!1,n))}return r.join("")},t.escape=function(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},t.rethrow=function s(e,t,r,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||o))throw e.message+=" on line "+r,e;try{o=o||n(12).readFileSync(t,"utf8")}catch(i){s(e,null,r)}var a=3,c=o.split("\n"),l=Math.max(r-a,0),p=Math.min(c.length,r+a),a=c.slice(l,p).map(function(e,t){var n=t+l+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+r+"\n"+a+"\n\n"+e.message,e},t.DebugItem=function(e,t){this.lineno=e,this.filename=t}},function(e,t){e.exports={title:"Sample Extension",name:"sample-extension",version:"1.0.0",author:"javier.centurion@auth0.com",description:"A Sample Extension",type:"application",keywords:["auth0"],auth0:{scopes:"read:connections"}}},function(e,t){function n(){l=!1,s.length?c=s.concat(c):p=-1,c.length&&r()}function r(){if(!l){var e=setTimeout(n);l=!0;for(var t=c.length;t;){for(s=c,c=[];++p<t;)s&&s[p].run();p=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var s,a=e.exports={},c=[],l=!1,p=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){e.exports=require("auth0-api-jwt-rsa-validation")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("express-jwt")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("jade")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t){e.exports=require("superagent")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("webtask-tools")}]);